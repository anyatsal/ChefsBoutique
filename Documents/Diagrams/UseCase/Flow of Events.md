# Поток событий
---

# Содержание
1 [Актеры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Войти в свою учетную запись](#log_in_to_your_account)  
2.2 [Зарегистрироваться](#register)  
2.3 [Загрузить рецепты пользователя](#download_recipes)  
2.4 [Создать новый рецепт](#create_new_recipe)  
2.5 [Найти рецепт по ингредиентам](#find_recipe_by_ingredients)  
2.6 [Найти рецепт по названию](#find_recipe_by_name)  

<a name="actors"/>

# 1 Актеры

| Актер | Описание |
|:--|:--|
| Зарегистрированный пользователь | Пользователь, который зарегистрировался в приложении |

<a name="use_case"/>

# 2 Варианты использования

<a name="log_in_to_your_account"/>

## 2.1 Войти в свою учетную запись

**Описание.** Вариант использования "Войти в свою учетную запись" позволяет пользователю войти в учетную запись.  

**Предусловия.** Пользователь выбрал способ "Войти в свою учетную запись" для входа в приложение.  

**Основной поток.**
1. Приложение отображает окно входа в учетную запись;
2. Пользователь вводит адрес электронной почты;
3. Пользователь вводит пароль;
4. Пользователь нажимает кнопку "Login";
5. Приложение скрывает окно входа;
6. Приложение отображает сохраненные рецепты пользователя;
7. Вариант использования завершается.

**Альтернативный поток А1.**
1. Приложение сообщает об ошибке входа в учетную запись;
2. Возврат к п.1 основного потока.

<a name="register"/>

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учетную запись в приложении.  

**Предусловия.** Пользователь выбрал способ "Зарегистрироваться" для входа в приложение.  

**Основной поток.**
1. Приложение отображает окно регистрации;
2. Пользователь вводит свое имя;
3. Пользователь вводит свой адрес электронной почты;
4. Пользователь вводит пароль;
5. Пользователь повторно вводит пароль;
6. Пользователь нажимает кнопку "Sign up";
7. Приложение проверят введенные данные на совпадение с данными уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А2;
8. Приложение регистрирует пользователя;
9. Приложение скрывает окно регистрации;
10. Приложение отображает сохраненные рецепты пользователя;
11. Вариант использования завершается.

**Альтернативный поток А2.**
1. Приложение сообщает об ошибке авторизации;
2. Возврат к п.1 основного потока.

<a name="download_recipes"/>

## 2.3 Загрузить рецепты пользователя

**Описание.** Вариант использования "Загрузить рецепты пользователя" загружает рецепты из базы данных.  

**Предусловия.** Пользователь авторизирован в приложении и выполняет его открытие.  

**Основной поток.**
1. Приложение отображает 20 рецептов пользователя. Если пользователь свайпает вверх, выполняется альтернативный поток А3;
2. Вариант использования завершается.

**Альтернативный поток А3.**
1. Приложение подгружает следующие 20 рецептов;
2. Возврат к п.1 основного потока.

<a name="create_new_recipe"/>

## 2.4 Создать новый рецепт

**Описание.** Вариант использования "Создать новый рецепт" выполняет сохранение в базе данных созданного рецепта.  

**Предусловия.** Пользователь нажал на кнопку создания рецепта.

**Основной поток.**
1. Приложение отображает окно создания рецепта;
2. Пользователь вводит название рецепта;
3. Пользователь вводит ингредиенты;
4. Пользователь вводит описание рецепта;
5. Пользователь выбирает категорию рецепта;
6. Пользователь загружает фото рецепта;
7. Если хотя бы одно из полей является пустым, выполняется альтернативный поток А4;
3. Приложение загружает рецепт в базу данных;
4. Приложение отображает сохраненные рецепты пользователя вместе с добавленным;
5. Вариант использования завершается.

**Альтернативный поток А4.**
1. Приложение сообщает пользователю об отсутствии информации в поле(полях) ввода;
2. Возврат к п.1 основного потока.

<a name="find_recipe_by_ingredients"/>

## 2.5 Найти рецепт по ингредиентам

**Описание.** Вариант использования "Найти рецепт по ингредиентам" выполняет поиск рецепта в интернет-ресурсе.  

**Предусловия.** Пользователь выбрал раздел "Search" в меню и перешел на вкладку "Search by ingredients".  

**Основной поток.**
1. Пользователь вводит желаемые ингредиенты;
2. Пользователь вводит нежелаемые ингредиенты;
3. Пользователь нажимает на кнопку "Search";
4. Если оба поля являются пустыми, выполняется альтернативный поток А5;
5. Если отсутствует подключение к Интернету, выполняется поток ошибки Е1;
6. Приложение отправляет запрос к интернет-ресурсу с введенными ингредиентами;
7. Если ответ с интернет-ресурса не содержит необходимых данных, выполняется альтернативный поток А6;
8. Приложение отображает список полученных рецептов;
9. Вариант использования завершается.

**Альтернативный поток А5.**
1. Приложение сообщает пользователю об отсутствии введенных ингредиентов;
2. Вариант использования завершается досрочно.

**Поток ошибки Е1.**
1. Приложение сообщает пользователю об отсутствии подключения к Интернету;
2. Вариант использования завершается.

**Альтернативный поток А6.**
1. Приложение сообщает пользователю об отсутствии информации по его запросу;
2. Вариант использования завершается досрочно.

<a name="find_recipe_by_name"/>

## 2.6 Найти рецепт по названию

**Описание.** Вариант использования "Найти рецепт по названию" выполняет поиск рецепта в интернет-ресурсе.  

**Предусловия.** Пользователь выбрал раздел "Search" в меню и перешел на вкладку "Search by name".  

**Основной поток.**
1. Пользователь вводит название рецепта;
2. Пользователь нажимает на кнопку "Search";
3. Если поле является пустым, выполняется альтернативный поток А7;
5. Если отсутствует подключение к Интернету, выполняется поток ошибки Е2;
6. Приложение отправляет запрос к интернет-ресурсу с названием рецепта;
7. Если ответ с интернет-ресурса не содержит необходимых данных, выполняется альтернативный поток А8;
8. Приложение отображает список полученных рецептов;
9. Вариант использования завершается.

**Альтернативный поток А7.**
1. Приложение сообщает пользователю об отсутствии введенного названия рецепта;
2. Вариант использования завершается досрочно.

**Поток ошибки Е2.**
1. Приложение сообщает пользователю об отсутствии подключения к Интернету;
2. Вариант использования завершается.

**Альтернативный поток А8.**
1. Приложение сообщает пользователю об отсутствии информации по его запросу;
2. Вариант использования завершается досрочно.
